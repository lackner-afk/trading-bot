# Paper-Trading-Bot Konfiguration
# ACHTUNG: Niemals echtes Geld ohne explizite Bestätigung!

general:
  mode: paper  # paper | live (NIEMALS live ohne explizite Bestätigung)
  start_capital: 100
  base_currency: EUR
  log_level: INFO

exchanges:
  onetrading:
    # API Key aus secrets.env (ONETRADING_API_KEY)
    # Öffentliche Marktdaten funktionieren auch ohne API Key
    api_key: ${ONETRADING_API_KEY}
    api_secret: ${ONETRADING_API_SECRET}

strategies:
  # Haupt-Strategie: EMA 9/21 Crossover mit RSI-Filter
  # Backtest: +4.2%, Sharpe 1.14, Win Rate 60%, Max DD 6.3%
  momentum:
    enabled: true
    leverage: 10
    pairs:
      - BTC_EUR
      - ETH_EUR
      - SOL_EUR
    take_profit: 0.015       # 1.5%
    stop_loss: 0.008         # 0.8%
    trailing_stop: 0.005     # 0.5%
    cooldown_seconds: 900    # 15 Min Cooldown pro Symbol — weniger Overtrading
    rsi_long_threshold: 55   # Long nur wenn RSI < 55 (nicht überkauft, aber mit Dynamik)
    rsi_short_threshold: 45  # Short nur wenn RSI > 45 (nicht überverkauft)
    atr_period: 14
    min_atr_pct: 0.0003      # Mindest-ATR: 0.03% des Preises — nur extrem ruhige Märkte ausschließen
    sl_atr_multiplier: 2.0   # war 1.5 — SL weiter setzen
    tp_atr_multiplier: 4.0
    trailing_atr_multiplier: 1.2

  # Sekundär-Strategie: RSI+BB Mean-Reversion (deaktiviert — zu viel Noise auf 1m)
  scalper:
    enabled: false
    leverage: 20
    pairs:
      - BTC_EUR
      - ETH_EUR
      - SOL_EUR
      - XRP_EUR
    timeframe: 1m
    take_profit: 0.015       # 1.5%
    stop_loss: 0.008         # 0.8%
    trailing_stop: 0.005     # 0.5%
    rsi_oversold: 30         # war 25 — mehr Long-Signale
    rsi_overbought: 70       # war 75 — mehr Short-Signale
    volume_spike_threshold: 2.0  # war 3.0 — weniger streng

  ml:
    enabled: true
    retrain_hours: 6
    min_confidence: 0.65

risk:
  max_risk_per_trade: 0.02      # 2% des Portfolios
  max_daily_drawdown: 0.10       # 10% → Pause bis nächster Tag
  max_position_size: 0.20        # 20% des Portfolios pro Position
  max_leverage: 50               # Absolutes Leverage-Limit
  max_concurrent_positions: 2
  cooldown_after_losses: 300     # 5 Min Pause nach 3 Verlusten

fees:
  crypto_maker: 0.0004  # 0.04%
  crypto_taker: 0.0006  # 0.06%

slippage:
  min: 0.0001  # 0.01%
  max: 0.0005  # 0.05%

notifications:
  console: true
  webhook_url: null  # Optional: Discord/Slack Webhook
  telegram:
    enabled: true
    token: ${TELEGRAM_BOT_TOKEN}
    chat_id: ${TELEGRAM_CHAT_ID}
    send_trade_alerts: true
    send_hourly_report: true
